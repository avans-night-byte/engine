\hypertarget{structwl__data__source__listener}{}\doxysection{wl\+\_\+data\+\_\+source\+\_\+listener Struct Reference}
\label{structwl__data__source__listener}\index{wl\_data\_source\_listener@{wl\_data\_source\_listener}}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
void($\ast$ \mbox{\hyperlink{structwl__data__source__listener_ae79feef532bb5ab03ee94ec1b7d40099}{target}} )(void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source, const char $\ast$mime\+\_\+type)
\item 
void($\ast$ \mbox{\hyperlink{structwl__data__source__listener_a97c1141334b4143c70337bdafc9eaa92}{send}} )(void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source, const char $\ast$mime\+\_\+type, int32\+\_\+t fd)
\item 
void($\ast$ \mbox{\hyperlink{structwl__data__source__listener_a029f07596040496affb4ef6c44c3f525}{cancelled}} )(void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source)
\item 
void($\ast$ \mbox{\hyperlink{structwl__data__source__listener_a71daf963d63525ccd72da4f1acf3aa8c}{dnd\+\_\+drop\+\_\+performed}} )(void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source)
\item 
void($\ast$ \mbox{\hyperlink{structwl__data__source__listener_a05a15cedb364a7246d355168d4ef0e20}{dnd\+\_\+finished}} )(void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source)
\item 
void($\ast$ \mbox{\hyperlink{structwl__data__source__listener_ac7623980ec9bb1a3eea4937e9b4e2376}{action}} )(void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source, uint32\+\_\+t dnd\+\_\+action)
\end{DoxyCompactItemize}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{structwl__data__source__listener_ac7623980ec9bb1a3eea4937e9b4e2376}\label{structwl__data__source__listener_ac7623980ec9bb1a3eea4937e9b4e2376}} 
\index{wl\_data\_source\_listener@{wl\_data\_source\_listener}!action@{action}}
\index{action@{action}!wl\_data\_source\_listener@{wl\_data\_source\_listener}}
\doxysubsubsection{\texorpdfstring{action}{action}}
{\footnotesize\ttfamily void($\ast$ wl\+\_\+data\+\_\+source\+\_\+listener\+::action) (void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source, uint32\+\_\+t dnd\+\_\+action)}

notify the selected action

This event indicates the action selected by the compositor after matching the source/destination side actions. Only one action (or none) will be offered here.

This event can be emitted multiple times during the drag-\/and-\/drop operation, mainly in response to destination side changes through wl\+\_\+data\+\_\+offer.\+set\+\_\+actions, and as the data device enters/leaves surfaces.

It is only possible to receive this event after wl\+\_\+data\+\_\+source.\+dnd\+\_\+drop\+\_\+performed if the drag-\/and-\/drop operation ended in an \char`\"{}ask\char`\"{} action, in which case the final wl\+\_\+data\+\_\+source.\+action event will happen immediately before wl\+\_\+data\+\_\+source.\+dnd\+\_\+finished.

Compositors may also change the selected action on the fly, mainly in response to keyboard modifier changes during the drag-\/and-\/drop operation.

The most recent action received is always the valid one. The chosen action may change alongside negotiation (e.\+g. an \char`\"{}ask\char`\"{} action can turn into a \char`\"{}move\char`\"{} operation), so the effects of the final action must always be applied in wl\+\_\+data\+\_\+offer.\+dnd\+\_\+finished.

Clients can trigger cursor surface changes from this point, so they reflect the current action. 
\begin{DoxyParams}{Parameters}
{\em dnd\+\_\+action} & action selected by the compositor \\
\hline
\end{DoxyParams}
\begin{DoxySince}{Since}
3 
\end{DoxySince}
\mbox{\Hypertarget{structwl__data__source__listener_a029f07596040496affb4ef6c44c3f525}\label{structwl__data__source__listener_a029f07596040496affb4ef6c44c3f525}} 
\index{wl\_data\_source\_listener@{wl\_data\_source\_listener}!cancelled@{cancelled}}
\index{cancelled@{cancelled}!wl\_data\_source\_listener@{wl\_data\_source\_listener}}
\doxysubsubsection{\texorpdfstring{cancelled}{cancelled}}
{\footnotesize\ttfamily void($\ast$ wl\+\_\+data\+\_\+source\+\_\+listener\+::cancelled) (void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source)}

selection was cancelled

This data source is no longer valid. There are several reasons why this could happen\+:


\begin{DoxyItemize}
\item The data source has been replaced by another data source. -\/ The drag-\/and-\/drop operation was performed, but the drop destination did not accept any of the mime types offered through wl\+\_\+data\+\_\+source.\+target. -\/ The drag-\/and-\/drop operation was performed, but the drop destination did not select any of the actions present in the mask offered through wl\+\_\+data\+\_\+source.\+action. -\/ The drag-\/and-\/drop operation was performed but didn\textquotesingle{}t happen over a surface. -\/ The compositor cancelled the drag-\/and-\/drop operation (e.\+g. compositor dependent timeouts to avoid stale drag-\/and-\/drop transfers).
\end{DoxyItemize}

The client should clean up and destroy this data source.

For objects of version 2 or older, wl\+\_\+data\+\_\+source.\+cancelled will only be emitted if the data source was replaced by another data source. \mbox{\Hypertarget{structwl__data__source__listener_a71daf963d63525ccd72da4f1acf3aa8c}\label{structwl__data__source__listener_a71daf963d63525ccd72da4f1acf3aa8c}} 
\index{wl\_data\_source\_listener@{wl\_data\_source\_listener}!dnd\_drop\_performed@{dnd\_drop\_performed}}
\index{dnd\_drop\_performed@{dnd\_drop\_performed}!wl\_data\_source\_listener@{wl\_data\_source\_listener}}
\doxysubsubsection{\texorpdfstring{dnd\_drop\_performed}{dnd\_drop\_performed}}
{\footnotesize\ttfamily void($\ast$ wl\+\_\+data\+\_\+source\+\_\+listener\+::dnd\+\_\+drop\+\_\+performed) (void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source)}

the drag-\/and-\/drop operation physically finished

The user performed the drop action. This event does not indicate acceptance, wl\+\_\+data\+\_\+source.\+cancelled may still be emitted afterwards if the drop destination does not accept any mime type.

However, this event might however not be received if the compositor cancelled the drag-\/and-\/drop operation before this event could happen.

Note that the data\+\_\+source may still be used in the future and should not be destroyed here. \begin{DoxySince}{Since}
3 
\end{DoxySince}
\mbox{\Hypertarget{structwl__data__source__listener_a05a15cedb364a7246d355168d4ef0e20}\label{structwl__data__source__listener_a05a15cedb364a7246d355168d4ef0e20}} 
\index{wl\_data\_source\_listener@{wl\_data\_source\_listener}!dnd\_finished@{dnd\_finished}}
\index{dnd\_finished@{dnd\_finished}!wl\_data\_source\_listener@{wl\_data\_source\_listener}}
\doxysubsubsection{\texorpdfstring{dnd\_finished}{dnd\_finished}}
{\footnotesize\ttfamily void($\ast$ wl\+\_\+data\+\_\+source\+\_\+listener\+::dnd\+\_\+finished) (void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source)}

the drag-\/and-\/drop operation concluded

The drop destination finished interoperating with this data source, so the client is now free to destroy this data source and free all associated data.

If the action used to perform the operation was \char`\"{}move\char`\"{}, the source can now delete the transferred data. \begin{DoxySince}{Since}
3 
\end{DoxySince}
\mbox{\Hypertarget{structwl__data__source__listener_a97c1141334b4143c70337bdafc9eaa92}\label{structwl__data__source__listener_a97c1141334b4143c70337bdafc9eaa92}} 
\index{wl\_data\_source\_listener@{wl\_data\_source\_listener}!send@{send}}
\index{send@{send}!wl\_data\_source\_listener@{wl\_data\_source\_listener}}
\doxysubsubsection{\texorpdfstring{send}{send}}
{\footnotesize\ttfamily void($\ast$ wl\+\_\+data\+\_\+source\+\_\+listener\+::send) (void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source, const char $\ast$mime\+\_\+type, int32\+\_\+t fd)}

send the data

Request for data from the client. Send the data as the specified mime type over the passed file descriptor, then close it. 
\begin{DoxyParams}{Parameters}
{\em mime\+\_\+type} & mime type for the data \\
\hline
{\em fd} & file descriptor for the data \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{structwl__data__source__listener_ae79feef532bb5ab03ee94ec1b7d40099}\label{structwl__data__source__listener_ae79feef532bb5ab03ee94ec1b7d40099}} 
\index{wl\_data\_source\_listener@{wl\_data\_source\_listener}!target@{target}}
\index{target@{target}!wl\_data\_source\_listener@{wl\_data\_source\_listener}}
\doxysubsubsection{\texorpdfstring{target}{target}}
{\footnotesize\ttfamily void($\ast$ wl\+\_\+data\+\_\+source\+\_\+listener\+::target) (void $\ast$data, struct wl\+\_\+data\+\_\+source $\ast$wl\+\_\+data\+\_\+source, const char $\ast$mime\+\_\+type)}

a target accepts an offered mime type

Sent when a target accepts pointer\+\_\+focus or motion events. If a target does not accept any of the offered types, type is N\+U\+LL.

Used for feedback during drag-\/and-\/drop. 
\begin{DoxyParams}{Parameters}
{\em mime\+\_\+type} & mime type accepted by the target \\
\hline
\end{DoxyParams}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
cmake-\/build-\/debug/build/sdl/wayland-\/generated-\/protocols/wayland-\/client-\/protocol.\+h\end{DoxyCompactItemize}
